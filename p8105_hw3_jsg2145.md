p8105\_hw3\_jsg2145
================
Jared Garfinkel
10/9/2019

``` r
library(p8105.datasets)
data("instacart")
```

The “instacart” dataset is 1384617 rows by 15 columns.

There are a few variables that appear to be key to telling us what the
dataset is.

The variable “product\_name” is an item that was placed in a cart. Order
have an “order\_id” number.

Each item in a cart has an “add\_to\_cart\_order”, for instance, in the
head of the data, “order\_id” 1

had 8 items added, 1 through 8 and “add\_to\_cart\_order” gives the
order in which the

items were added. There are columns that tell the time of day of the
order, the days

since the prior order, and whether a specific item was reordered or not.
There are

also details about where the item is found (aisle, department)

``` r
aisle_dat <- instacart %>% 
  group_by(aisle) %>%
  summarize(
    count = n()) %>% 
  arrange(desc(count))
```

## Problem 1

There are 134 aisles, and fresh vegetables was the aisle the most items
were ordered from.

``` r
instacart %>% 
  group_by(aisle) %>% 
  count() %>% 
  filter(
    n > 10000
  ) %>% 
  ggplot(aes(x = aisle, y = n)) +
  geom_col() +
  labs(xlab = "Count",
       ylab = "Aisle")
```

![](p8105_hw3_jsg2145_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

``` r
instacart %>% 
  filter(
    aisle == c("baking ingredients", 
               "dog food care", 
               "packaged vegetables fruits")
    ) %>% 
  mutate(
    aisle = 
      recode(aisle,
             "baking ingredients" = "Baking Ingredients",
             "dog food care" = "Dog Food Care",
             "packaged vegetables fruits" = "Packaged Vegetables Fruits")) %>% 
  group_by(aisle, product_name) %>% 
  summarize(
    count =  n()
  ) %>% 
  top_n(., 3, count) %>% 
  arrange(desc(count), .by_group = TRUE) %>% 
  rename(Aisle = aisle,
         "Product Name" = product_name,
         Count = count) %>% 
  knitr::kable()
```

| Aisle                      | Product Name                                    | Count |
| :------------------------- | :---------------------------------------------- | ----: |
| Baking Ingredients         | Light Brown Sugar                               |   157 |
| Baking Ingredients         | Pure Baking Soda                                |   140 |
| Baking Ingredients         | Organic Vanilla Extract                         |   122 |
| Dog Food Care              | Organix Grain Free Chicken & Vegetable Dog Food |    14 |
| Dog Food Care              | Organix Chicken & Brown Rice Recipe             |    13 |
| Dog Food Care              | Original Dry Dog                                |     9 |
| Packaged Vegetables Fruits | Organic Baby Spinach                            |  3324 |
| Packaged Vegetables Fruits | Organic Raspberries                             |  1920 |
| Packaged Vegetables Fruits | Organic Blueberries                             |  1692 |

``` r
instacart %>% 
  filter(product_name == c("Pink Lady Apples", "Coffee Ice Cream")) %>% 
  group_by(product_name, order_dow) %>% 
  summarize(
    mean_hr = round(mean(order_hour_of_day), digits = 1)
  ) %>% 
  mutate(
    order_dow = factor(order_dow, 
                       labels = c("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"))) %>%
  rename("Product Name" = product_name) %>% 
  pivot_wider(
    names_from = order_dow,
    values_from = mean_hr
  ) %>% 
  knitr::kable()
```

    ## Warning in product_name == c("Pink Lady Apples", "Coffee Ice Cream"):
    ## longer object length is not a multiple of shorter object length

| Product Name     | Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday |
| :--------------- | -----: | -----: | ------: | --------: | -------: | -----: | -------: |
| Coffee Ice Cream |   13.2 |   15.0 |    15.3 |      15.4 |     15.2 |   10.3 |     12.4 |
| Pink Lady Apples |   12.2 |   11.7 |    12.0 |      13.9 |     11.9 |   13.9 |     11.6 |
